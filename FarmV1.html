<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>مقدمة اللعبة</title>
<style>
  body {
    background-color: #1a1a1a;
    color: #f1f1f1;
    font-family: "Cairo", sans-serif;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }

  .scene {
    max-width: 800px;
    margin: 60px auto;
    padding: 20px;
    background: #2c2c2c;
    border-radius: 20px;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
  }

  .title {
    font-size: 26px;
    color: #00e676;
    margin-bottom: 10px;
    text-align: center;
  }

  .dialogue-box {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 12px;
    padding: 20px;
    font-size: 18px;
    line-height: 1.7;
    white-space: pre-wrap;
    transition: all 0.3s ease;
    min-height: 120px;
  }

  .next-btn {
    display: block;
    margin: 25px auto 0;
    background: #00e676;
    color: #000;
    font-weight: bold;
    border: none;
    border-radius: 8px;
    padding: 10px 25px;
    cursor: pointer;
    font-size: 18px;
    transition: background 0.3s;
  }

  .next-btn:hover {
    background: #00c853;
  }

  .next-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
</style>
</head>
<body>

<div class="scene">
  <div class="title">مزرعة السهل النموذجية</div>
  <div class="dialogue-box" id="dialogue"></div>
  <button class="next-btn" id="nextBtn" onclick="nextLine()">التالي</button>
</div>

<script>
const dialogueLines = [
  "في بداية رحلتك في عالم أميتريوم، تم منحك فرصة لإدارة مزرعة نموذجية في السهل الأخضر.",
  "لن تحصل على المال كهدية، بل هو رأس مالك الفعلي الذي سيمكنك من بدء العمل به.",
  "المزرعة صغيرة لكنها كافية لتبدأ منها طريقك نحو التوسع والإنتاج.",
  "هنا تبدأ القصة الحقيقية... حيث يتقرر مصيرك بناءً على قراراتك وإدارتك."
];

let currentLine = 0;
let isTyping = false;
const box = document.getElementById("dialogue");
const btn = document.getElementById("nextBtn");

function typeLine(text, callback) {
  isTyping = true;
  btn.disabled = true;
  let i = 0;
  const p = document.createElement("p");
  box.appendChild(p);

  const typing = setInterval(() => {
    p.textContent += text.charAt(i);
    i++;
    if (i >= text.length) {
      clearInterval(typing);
      isTyping = false;
      btn.disabled = false;
      if (callback) callback();
    }
  }, 40); // سرعة الكتابة (40ms لكل حرف)
}

function nextLine() {
  if (isTyping) return;
  if (currentLine < dialogueLines.length) {
    typeLine(dialogueLines[currentLine]);
    currentLine++;
  } else {
    btn.textContent = "انتهى المشهد";
    btn.disabled = true;
  }
}
</script>

</body>
</html>
